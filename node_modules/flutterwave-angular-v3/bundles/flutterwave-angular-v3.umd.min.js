!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("@angular/core"),require("@angular/common")):"function"==typeof define&&define.amd?define(["exports","@angular/core","@angular/common"],e):e(t["flutterwave-angular-v3"]={},t.ng.core,t.ng.common)}(this,function(t,e,n){"use strict";var a=function p(){},o=function l(){},i=function m(){},s=function(){function t(){this.trackingEndPoint="https://kgelfdz7mf.execute-api.us-east-1.amazonaws.com/staging/sendevent",this.packageVersion="1.2.1",this.language="Angular V3"}return t.prototype.track=function(t){var e={publicKey:t.paymentData.public_key,language:this.language,version:this.packageVersion,title:"",message:"0"},n=t.paymentData.payment_options||"",a=n?n.split(","):[],o="";o=0===a.length?"Initiate-Charge-Dashboard":1===a.length?"Initiate-Charge-"+n:"Initiate-Charge-Multiple",e.title="successful"===t.response.status?o:o+"-error",this.submitTracking(e)},t.prototype.submitTracking=function(t){fetch(this.trackingEndPoint,{method:"POST",body:JSON.stringify(t)}).then(function(t){})},t}();s.decorators=[{type:e.Injectable}],s.ctorParameters=function(){return[]};var c=function(){function t(t){this.tracker=t}return t.prototype.inlinePay=function(e){var n=this,t=Object.assign({},e,{callback:function(t){n.submitToTracker(e,t,1e4),e.callbackContext[e.callback.name](t)},onclose:function(){try{e.callbackContext[e.onclose.name]()}catch(t){}}});FlutterwaveCheckout(t)},t.prototype.asyncInlinePay=function(n){var a=this;return new Promise(function(e,t){n=Object.assign({},n,{callback:function(t){a.submitToTracker(n,t,1e4),e(t)},onclose:function(){return e("closed")}}),FlutterwaveCheckout(n)})},t.prototype.submitToTracker=function(t,e,n){this.tracker.track({paymentData:t,response:e,responseTime:n})},t.prototype.closePaymentModal=function(t){void 0===t&&(t=0),setTimeout(function(){document.getElementsByName("checkout")[0].setAttribute("style","position:fixed;top:0;left:0;z-index:-1;border:none;opacity:0;pointer-events:none;width:100%;height:100%;"),document.body.style.overflow=""},1e3*t)},t}();c.decorators=[{type:e.Injectable}],c.ctorParameters=function(){return[{type:s}]};var r=function(){function t(t){this.flutterwave=t,this.callback=new e.EventEmitter,this.close=new e.EventEmitter,this.customer_defaults={email:"",phone_number:"",name:""},this.meta_defaults={consumer_id:"",consumer_mac:""},this.customizations_defaults={title:"",description:"",logo:""}}return t.prototype.ngOnInit=function(){},t.prototype.makePayment=function(){this.prepareForPayment(),FlutterwaveCheckout(this.inlinePaymentOptions)},t.prototype.prepareForPayment=function(){var e=this;this.customer=this.customer||{},this.meta=this.meta||{},this.customizations=this.customizations||{},this.data?this.inlinePaymentOptions=Object.assign({},this.data,{callback:function(t){e.flutterwave.submitToTracker(e.data,t,1e4),e.data.callbackContext[e.data.callback.name](t)},onclose:function(){try{e.data.callbackContext[e.data.onclose.name]()}catch(t){}}}):(this.inlinePaymentOptions={callbackContext:null,public_key:this.public_key,tx_ref:this.tx_ref,amount:this.amount,currency:this.currency||"NGN",payment_options:this.payment_options||"card, mobilemoney, ussd",redirect_url:this.redirect_url||"",meta:Object.assign({},this.meta_defaults,this.meta),customer:Object.assign({},this.customer_defaults,this.customer),callback:function(t){e.flutterwave.submitToTracker(e.inlinePaymentOptions,t,1e4),e.callback.emit(t)},onclose:function(){return e.close.emit()},customizations:Object.assign({},this.customizations_defaults,this.customizations)},this.payment_plan&&(this.inlinePaymentOptions.payment_plan=this.payment_plan),this.subaccounts&&(this.inlinePaymentOptions.subaccounts=this.subaccounts),this.integrity_hash&&(this.inlinePaymentOptions.integrity_hash=this.integrity_hash))},t}();r.decorators=[{type:e.Component,args:[{selector:"flutterwave-make-payment",template:'\n    <button\n      style="{{style}}"\n      [ngClass]="className ? className : \'flutterwave-pay-button\' "\n      (click)="makePayment()">\n      {{text || \'Pay\'}}\n    </button>\n  ',styles:["\n    .flutterwave-pay-button{\n      background-color: #f5a623;\n      border-radius: 4px;\n      border-color: #f5a623;\n      -webkit-box-shadow: 0 2px 3px 0 #ccc;\n              box-shadow: 0 2px 3px 0 #ccc;\n      color: #fff;\n      display: block;\n      font-size: 12px;\n      font-weight: 700;\n      padding: 14px 22px;\n      text-align: center;\n      text-decoration: none;\n      -webkit-transition: all .3s ease-in-out;\n      transition: all .3s ease-in-out;\n\n    }\n  "]}]}],r.ctorParameters=function(){return[{type:c}]},r.propDecorators={public_key:[{type:e.Input}],tx_ref:[{type:e.Input}],amount:[{type:e.Input}],currency:[{type:e.Input}],payment_options:[{type:e.Input}],payment_plan:[{type:e.Input}],subaccounts:[{type:e.Input}],integrity_hash:[{type:e.Input}],redirect_url:[{type:e.Input}],meta:[{type:e.Input}],customer:[{type:e.Input}],callback:[{type:e.Output}],close:[{type:e.Output}],customizations:[{type:e.Input}],text:[{type:e.Input}],style:[{type:e.Input}],className:[{type:e.Input}],data:[{type:e.Input}]};var u=function y(){var t="https://checkout.flutterwave.com/v3.js",e=document.createElement("script");e.src=t,document.querySelector('[src="'+t+'"]')||document.body.appendChild(e)};u.decorators=[{type:e.NgModule,args:[{imports:[n.CommonModule],declarations:[r],providers:[c,s],exports:[r]}]}],u.ctorParameters=function(){return[]},t.FlutterwaveModule=u,t.Flutterwave=c,t.InlinePaymentOptions=a,t.PaymentSuccessResponse=i,t.AsyncPaymentOptions=o,t.MakePaymentComponent=r,t.Éµa=s,Object.defineProperty(t,"__esModule",{value:!0})});
//# sourceMappingURL=flutterwave-angular-v3.umd.min.js.map
